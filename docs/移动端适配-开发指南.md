# ç§»åŠ¨ç«¯é€‚é… - å¼€å‘æŒ‡å—

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### 1. å¼•å…¥é€‚é…æ–¹æ¡ˆ

æ‰€æœ‰HTMLé¡µé¢çš„`<head>`ä¸­å¿…é¡»åŒ…å«ï¼š

```html
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
  
  <!-- 1. ç§»åŠ¨ç«¯é€‚é…è„šæœ¬ - å¿…é¡»æœ€å…ˆåŠ è½½ -->
  <script src="assets/js/flexible.js"></script>
  
  <!-- 2. ç§»åŠ¨ç«¯é€‚é…æ ·å¼ -->
  <link rel="stylesheet" href="assets/css/mobile-adapter.css">
  
  <!-- 3. å…¶ä»–æ ·å¼ -->
  <link rel="stylesheet" href="assets/css/style.css">
</head>
```

**é‡è¦ï¼š** `flexible.js` å¿…é¡»åœ¨æ‰€æœ‰æ ·å¼ä¹‹å‰åŠ è½½ï¼

### 2. ç¼–å†™æ ·å¼

ä½¿ç”¨remå•ä½ï¼Œè½¬æ¢è§„åˆ™ï¼š

```
remå€¼ = è®¾è®¡ç¨¿pxå€¼ Ã· 100
```

**ç¤ºä¾‹ï¼š**

```css
/* è®¾è®¡ç¨¿æ ‡æ³¨ï¼šå®½åº¦690pxï¼Œé«˜åº¦200pxï¼Œå†…è¾¹è·30pxï¼Œåœ†è§’16px */
.card {
  width: 6.9rem;        /* 690 Ã· 100 */
  height: 2rem;         /* 200 Ã· 100 */
  padding: 0.3rem;      /* 30 Ã· 100 */
  border-radius: 0.16rem; /* 16 Ã· 100 */
  background: white;
}
```

### 3. å­—ä½“ä½¿ç”¨px

```css
/* âœ… æ¨èï¼šå­—ä½“ä½¿ç”¨px */
.title {
  font-size: 18px;      /* ä¸ä½¿ç”¨rem */
  line-height: 1.4;
  font-weight: bold;
}

.text {
  font-size: 14px;      /* ä¸ä½¿ç”¨rem */
  color: #666;
}
```

### 4. è¾¹æ¡†ä½¿ç”¨pxæˆ–hairline

```css
/* æ™®é€šè¾¹æ¡†ï¼šä½¿ç”¨px */
.box {
  border: 1px solid #e5e5e5;
}

/* 0.5pxè¾¹æ¡†ï¼šä½¿ç”¨hairlineç±» */
<div class="box hairline"></div>
```

## ğŸ’» å®æˆ˜ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå®Œæ•´é¡µé¢å¸ƒå±€

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>é¦–é¡µ</title>
  
  <script src="assets/js/flexible.js"></script>
  <link rel="stylesheet" href="assets/css/mobile-adapter.css">
  
  <style>
    /* å¯¼èˆªæ  */
    .navbar {
      height: 0.88rem;              /* 88px */
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0.02rem 0.08rem rgba(0, 0, 0, 0.08);
    }
    
    .navbar-title {
      font-size: 18px;              /* å­—ä½“ç”¨px */
      font-weight: bold;
      color: #333;
    }
    
    /* å†…å®¹åŒºåŸŸ */
    .content {
      padding: 0.3rem;              /* 30px */
    }
    
    /* å¡ç‰‡ */
    .card {
      width: 100%;
      padding: 0.3rem;              /* 30px */
      margin-bottom: 0.2rem;        /* 20px */
      background: white;
      border-radius: 0.16rem;       /* 16px */
      box-shadow: 0 0.02rem 0.08rem rgba(0, 0, 0, 0.08);
    }
    
    .card-title {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 0.16rem;       /* 16px */
    }
    
    .card-content {
      font-size: 14px;
      color: #666;
      line-height: 1.6;
    }
    
    /* åº•éƒ¨æ“ä½œæ  */
    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 1rem;                 /* 100px */
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 -0.02rem 0.08rem rgba(0, 0, 0, 0.08);
      padding-bottom: env(safe-area-inset-bottom); /* å®‰å…¨åŒºåŸŸ */
    }
    
    .footer-button {
      width: 6.9rem;                /* 690px */
      height: 0.88rem;              /* 88px */
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 0.08rem;       /* 8px */
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- å¯¼èˆªæ  -->
  <div class="navbar safe-area-top">
    <h1 class="navbar-title">é¡µé¢æ ‡é¢˜</h1>
  </div>
  
  <!-- å†…å®¹ -->
  <div class="content">
    <div class="card">
      <h3 class="card-title">å¡ç‰‡æ ‡é¢˜</h3>
      <p class="card-content">å¡ç‰‡å†…å®¹...</p>
    </div>
    
    <div class="card">
      <h3 class="card-title">å¡ç‰‡æ ‡é¢˜</h3>
      <p class="card-content">å¡ç‰‡å†…å®¹...</p>
    </div>
  </div>
  
  <!-- åº•éƒ¨æ“ä½œæ  -->
  <div class="footer">
    <button class="footer-button">ç¡®è®¤</button>
  </div>
</body>
</html>
```

### ç¤ºä¾‹2ï¼šåˆ—è¡¨é¡µé¢

```html
<style>
  .list {
    background: white;
  }
  
  .list-item {
    display: flex;
    align-items: center;
    padding: 0.3rem;              /* 30px */
    border-bottom: 1px solid #f0f0f0;
  }
  
  .list-item-icon {
    width: 0.8rem;                /* 80px */
    height: 0.8rem;               /* 80px */
    margin-right: 0.2rem;         /* 20px */
    border-radius: 50%;
    overflow: hidden;
  }
  
  .list-item-icon img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .list-item-content {
    flex: 1;
  }
  
  .list-item-title {
    font-size: 15px;
    color: #333;
    margin-bottom: 0.08rem;       /* 8px */
  }
  
  .list-item-desc {
    font-size: 13px;
    color: #999;
  }
  
  .list-item-arrow {
    width: 0.12rem;               /* 12px */
    height: 0.12rem;              /* 12px */
    border-top: 2px solid #ccc;
    border-right: 2px solid #ccc;
    transform: rotate(45deg);
  }
</style>

<div class="list">
  <div class="list-item">
    <div class="list-item-icon">
      <img src="avatar.png" alt="">
    </div>
    <div class="list-item-content">
      <div class="list-item-title">æ ‡é¢˜æ–‡å­—</div>
      <div class="list-item-desc">æè¿°æ–‡å­—</div>
    </div>
    <div class="list-item-arrow"></div>
  </div>
</div>
```

### ç¤ºä¾‹3ï¼šè¡¨å•ç»„ä»¶

```html
<style>
  .form-group {
    margin-bottom: 0.3rem;        /* 30px */
  }
  
  .form-label {
    display: block;
    font-size: 14px;
    color: #333;
    margin-bottom: 0.16rem;       /* 16px */
  }
  
  .form-input {
    width: 100%;
    height: 0.88rem;              /* 88px */
    padding: 0 0.3rem;            /* 30px */
    font-size: 15px;
    border: 1px solid #e5e5e5;
    border-radius: 0.08rem;       /* 8px */
    outline: none;
    transition: border-color 0.3s;
  }
  
  .form-input:focus {
    border-color: #667eea;
  }
  
  .form-input::placeholder {
    color: #ccc;
  }
  
  .form-button {
    width: 100%;
    height: 0.88rem;              /* 88px */
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    font-size: 16px;
    border: none;
    border-radius: 0.08rem;       /* 8px */
    cursor: pointer;
  }
  
  .form-button:active {
    opacity: 0.8;
  }
</style>

<form class="form">
  <div class="form-group">
    <label class="form-label">ç”¨æˆ·å</label>
    <input type="text" class="form-input" placeholder="è¯·è¾“å…¥ç”¨æˆ·å">
  </div>
  
  <div class="form-group">
    <label class="form-label">å¯†ç </label>
    <input type="password" class="form-input" placeholder="è¯·è¾“å…¥å¯†ç ">
  </div>
  
  <button type="submit" class="form-button">ç™»å½•</button>
</form>
```

## ğŸ”§ å¼€å‘å·¥å…·é…ç½®

### VSCode æ’ä»¶

1. **cssrem**
   ```json
   {
     "cssrem.rootFontSize": 100,
     "cssrem.fixedDigits": 2,
     "cssrem.autoRemovePrefixZero": false
   }
   ```

2. **px to rem**
   - å¿«æ·é”®ï¼šAlt+Z
   - è‡ªåŠ¨è½¬æ¢é€‰ä¸­çš„pxå€¼

### Chrome DevTools

å¼€å‘è€…å·¥å…· â†’ åˆ‡æ¢è®¾å¤‡æ¨¡æ‹Ÿï¼š
- iPhone SE (375Ã—667)
- iPhone 12 Pro (390Ã—844)
- iPad (768Ã—1024)
- è‡ªå®šä¹‰ï¼š750px

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### 1. å›¾ç‰‡ä¼˜åŒ–

```html
<!-- ä½¿ç”¨srcsetæä¾›å¤šå€å›¾ -->
<img srcset="image.png 1x, image@2x.png 2x, image@3x.png 3x"
     src="image@2x.png"
     alt="æè¿°"
     style="width: 3rem; height: 2rem;">

<!-- æ‡’åŠ è½½ -->
<img src="placeholder.png" 
     data-src="real-image@2x.png" 
     class="lazyload"
     style="width: 7.5rem;">
```

### 2. CSSæ€§èƒ½

```css
/* âœ… ä½¿ç”¨transformè€Œä¸æ˜¯position */
.animate {
  transform: translateX(1rem);
}

/* âŒ é¿å… */
.animate {
  left: 1rem;
}

/* âœ… ä½¿ç”¨will-changeæç¤ºæµè§ˆå™¨ */
.scroll-container {
  will-change: transform;
  -webkit-overflow-scrolling: touch;
}
```

### 3. å‡å°‘é‡ç»˜

```css
/* ä½¿ç”¨transformåšåŠ¨ç”» */
.slide {
  transform: translateX(0);
  transition: transform 0.3s;
}

.slide.active {
  transform: translateX(1rem);
}
```

## ğŸ› è°ƒè¯•æŠ€å·§

### 1. æ˜¾ç¤ºè®¾å¤‡ä¿¡æ¯

åœ¨HTMLä¸Šæ·»åŠ ï¼š

```html
<html data-debug="true">
```

ä¼šåœ¨å³ä¸‹è§’æ˜¾ç¤ºå½“å‰è®¾å¤‡ä¿¡æ¯å’ŒfontSizeã€‚

### 2. æŸ¥çœ‹remåŸºå‡†å€¼

åœ¨æµè§ˆå™¨consoleä¸­ï¼š

```javascript
// æŸ¥çœ‹å½“å‰remåŸºå‡†
console.log(document.documentElement.style.fontSize);

// æŸ¥çœ‹è®¾å¤‡ç±»å‹
console.log(document.documentElement.getAttribute('data-device'));

// æ‰‹åŠ¨è§¦å‘remè®¡ç®—
window.flexible.setRemUnit();
```

### 3. éªŒè¯é€‚é…

```javascript
// è·å–å…ƒç´ å®é™…å°ºå¯¸
const el = document.querySelector('.card');
console.log('å®½åº¦:', el.offsetWidth);
console.log('é«˜åº¦:', el.offsetHeight);

// åœ¨ä¸åŒè®¾å¤‡ä¸Šå¯¹æ¯”
// iPhone 6 (375px): å®½åº¦åº”è¯¥çº¦ä¸º345px (690/750*375)
// iPhone 12 (390px): å®½åº¦åº”è¯¥çº¦ä¸º358px (690/750*390)
```

## ğŸ“± è®¾å¤‡æµ‹è¯•æŒ‡å—

### æµ‹è¯•çŸ©é˜µ

| è®¾å¤‡ç±»å‹ | æµ‹è¯•è®¾å¤‡ | åˆ†è¾¨ç‡ | æµ‹è¯•é‡ç‚¹ |
|---------|---------|--------|---------|
| å°å±æ‰‹æœº | iPhone SE | 375Ã—667 | å†…å®¹æ˜¯å¦å®Œæ•´æ˜¾ç¤º |
| ä¸­å±æ‰‹æœº | iPhone 12 | 390Ã—844 | æ ‡å‡†æ˜¾ç¤ºæ•ˆæœ |
| å¤§å±æ‰‹æœº | iPhone 14 Pro Max | 430Ã—932 | å†…å®¹ä¸è¿‡äºåˆ†æ•£ |
| å®‰å“ | ä¸»æµæœºå‹ | 360-420px | å…¼å®¹æ€§ |
| PC | Chromeæ¨¡æ‹Ÿå™¨ | 750px | æ¨¡æ‹Ÿå™¨æ•ˆæœ |

### æµ‹è¯•æ­¥éª¤

1. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   ```

2. **ç§»åŠ¨ç«¯æµ‹è¯•**
   - åœ¨æ‰‹æœºæµè§ˆå™¨æ‰“å¼€ http://[your-ip]:3000
   - æ£€æŸ¥å¸ƒå±€ã€å­—ä½“ã€äº¤äº’

3. **PCç«¯æµ‹è¯•**
   - åœ¨PCæµè§ˆå™¨æ‰“å¼€ http://localhost:3000
   - æ£€æŸ¥æ¨¡æ‹Ÿå™¨æ˜¾ç¤º
   - éªŒè¯750pxå®¹å™¨æ•ˆæœ

4. **Chrome DevToolsæµ‹è¯•**
   - F12 â†’ åˆ‡æ¢è®¾å¤‡æ¨¡æ‹Ÿ
   - æµ‹è¯•ä¸åŒåˆ†è¾¨ç‡
   - æ£€æŸ¥å“åº”å¼æ•ˆæœ

## ğŸ¨ å¸¸è§å¸ƒå±€æ¨¡å¼

### 1. å…¨å®½å®¹å™¨

```css
.full-width {
  width: 100%;
  padding: 0 0.3rem;    /* å·¦å³ç•™30px */
}
```

### 2. å›ºå®šå®½åº¦å±…ä¸­

```css
.fixed-width {
  width: 6.9rem;        /* 690px */
  margin: 0 auto;       /* å±…ä¸­ */
}
```

### 3. å·¦å³åˆ†æ 

```css
.two-column {
  display: flex;
  gap: 0.2rem;          /* é—´è·20px */
}

.column {
  flex: 1;
  padding: 0.3rem;
}
```

### 4. ç½‘æ ¼å¸ƒå±€

```css
.grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0.2rem;          /* 20px */
  padding: 0.3rem;
}

.grid-item {
  aspect-ratio: 1;      /* æ­£æ–¹å½¢ */
  background: white;
  border-radius: 0.08rem;
}
```

### 5. å¸é¡¶å¯¼èˆª

```css
.sticky-nav {
  position: sticky;
  top: 0;
  height: 0.88rem;
  background: white;
  z-index: 100;
}
```

### 6. åº•éƒ¨å›ºå®šæ“ä½œæ 

```css
.fixed-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1rem;                 /* 100px */
  background: white;
  padding: 0.3rem;
  padding-bottom: env(safe-area-inset-bottom);
  box-shadow: 0 -0.02rem 0.08rem rgba(0, 0, 0, 0.08);
}
```

## ğŸš€ é«˜çº§æŠ€å·§

### 1. åŠ¨æ€è®¡ç®—remå€¼

```javascript
// åœ¨JSä¸­ä½¿ç”¨rem
function pxToRem(px) {
  const baseFontSize = parseFloat(
    getComputedStyle(document.documentElement).fontSize
  );
  return px / baseFontSize;
}

// ä½¿ç”¨
element.style.width = pxToRem(690) + 'rem'; // 6.9rem
```

### 2. ç›‘å¬é€‚é…å˜åŒ–

```javascript
// ç›‘å¬remå•ä½å˜åŒ–
window.addEventListener('remUnitChange', function(e) {
  console.log('è®¾å¤‡ç±»å‹:', e.detail.device);
  console.log('fontSize:', e.detail.fontSize);
  console.log('å±å¹•å®½åº¦:', e.detail.clientWidth);
  
  // å¯ä»¥åœ¨è¿™é‡Œåšä¸€äº›å“åº”å¼å¤„ç†
});
```

### 3. æ¡ä»¶æ¸²æŸ“ï¼ˆç§»åŠ¨/PCï¼‰

```javascript
const isMobile = document.documentElement.getAttribute('data-device') === 'mobile';

if (isMobile) {
  // ç§»åŠ¨ç«¯ç‰¹æœ‰é€»è¾‘
  console.log('ç§»åŠ¨ç«¯');
} else {
  // PCç«¯ç‰¹æœ‰é€»è¾‘
  console.log('PCç«¯æ¨¡æ‹Ÿå™¨');
}
```

### 4. æ¨ªç«–å±é€‚é…

```css
/* ç«–å± */
@media (orientation: portrait) {
  .landscape-only {
    display: none;
  }
}

/* æ¨ªå± */
@media (orientation: landscape) {
  .portrait-only {
    display: none;
  }
}
```

```javascript
// ç›‘å¬æ¨ªç«–å±å˜åŒ–
window.addEventListener('orientationchange', function() {
  console.log('å±å¹•æ–¹å‘å˜åŒ–');
  setTimeout(function() {
    window.flexible.setRemUnit();
  }, 300);
});
```

## âš™ï¸ flexible.js é…ç½®

å¦‚éœ€ä¿®æ”¹é…ç½®ï¼Œç¼–è¾‘ `assets/js/flexible.js`ï¼š

```javascript
const config = {
  designWidth: 750,        // è®¾è®¡ç¨¿å®½åº¦ï¼Œé»˜è®¤750
  maxWidth: 750,           // æœ€å¤§å®½åº¦ï¼ˆç§»åŠ¨ç«¯ï¼‰
  remBase: 100,            // remåŸºå‡†å€¼ï¼Œé»˜è®¤100
  pcSimulator: true        // æ˜¯å¦å¯ç”¨PCç«¯æ¨¡æ‹Ÿå™¨ï¼Œé»˜è®¤true
};
```

### ç¦ç”¨PCæ¨¡æ‹Ÿå™¨

å¦‚æœä¸éœ€è¦PCæ¨¡æ‹Ÿå™¨ï¼Œä¿®æ”¹ï¼š

```javascript
const config = {
  // ...
  pcSimulator: false  // æ”¹ä¸ºfalse
};
```

## ğŸ“¦ æ„å»ºå’Œå‘å¸ƒ

### æ„å»ºå‘½ä»¤

```bash
# å¼€å‘ç¯å¢ƒ
npm run dev

# ç”Ÿäº§æ„å»º
npm run build
```

### æ£€æŸ¥æ„å»ºç»“æœ

```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å®Œæ•´
ls -la dist/assets/js/flexible.js
ls -la dist/assets/css/mobile-adapter.css

# éªŒè¯HTMLå¼•å…¥
grep "flexible.js" dist/index.html
grep "mobile-adapter.css" dist/index.html
```

## âœ… ä»£ç å®¡æŸ¥è¦ç‚¹

Reviewæ—¶æ£€æŸ¥ï¼š

1. **HTMLç»“æ„**
   - [ ] å¼•å…¥äº† flexible.js
   - [ ] å¼•å…¥äº† mobile-adapter.css
   - [ ] viewporté…ç½®æ­£ç¡®

2. **CSSæ ·å¼**
   - [ ] å°ºå¯¸ä½¿ç”¨remï¼ˆé™¤å­—ä½“å’Œè¾¹æ¡†ï¼‰
   - [ ] å­—ä½“ä½¿ç”¨px
   - [ ] è¾¹æ¡†ä½¿ç”¨pxæˆ–hairline
   - [ ] è®¡ç®—æ­£ç¡®ï¼ˆè®¾è®¡ç¨¿Ã·100ï¼‰

3. **å“åº”å¼**
   - [ ] è€ƒè™‘äº†ä¸åŒå±å¹•å®½åº¦
   - [ ] å¤„ç†äº†å®‰å…¨åŒºåŸŸ
   - [ ] æµ‹è¯•äº†æ¨ªç«–å±

4. **æ€§èƒ½**
   - [ ] å›¾ç‰‡å·²ä¼˜åŒ–
   - [ ] ä½¿ç”¨äº†transformåŠ¨ç”»
   - [ ] é¿å…äº†å¤§é‡é‡ç»˜

## ğŸ¯ å›¢é˜Ÿåä½œæµç¨‹

```
è®¾è®¡å¸ˆ â†’ 750pxè®¾è®¡ç¨¿ â†’ æ ‡æ³¨æ–‡æ¡£
   â†“
å‰ç«¯å¼€å‘ â†’ æŒ‰è§„èŒƒè½¬æ¢rem â†’ ç¼–å†™ä»£ç 
   â†“
è‡ªæµ‹ â†’ å¤šè®¾å¤‡æµ‹è¯• â†’ æäº¤Review
   â†“
Code Review â†’ æ£€æŸ¥è§„èŒƒ â†’ åˆå¹¶ä»£ç 
   â†“
è”è°ƒæµ‹è¯• â†’ çœŸæœºæµ‹è¯• â†’ å‘å¸ƒä¸Šçº¿
```

---

**ä¸¥æ ¼éµå¾ªæ­¤å¼€å‘æŒ‡å—ï¼Œç¡®ä¿é«˜è´¨é‡çš„ç§»åŠ¨ç«¯ä½“éªŒï¼** ğŸ“±

